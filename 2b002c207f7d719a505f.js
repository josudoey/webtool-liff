/*! For license information please see 2b002c207f7d719a505f.js.LICENSE.txt */
(self.webpackChunkwebtool_liff=self.webpackChunkwebtool_liff||[]).push([[601],{870:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnalyticsModule:()=>h,sendShareTargetPicker:()=>p});var r=n(655),i=n(153),o=n(416),s=n(530),a=n(743),u=n(74),c=n(907),l=n(523);function f(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if(!(0,c.isLoggedIn)())return[3,6];n.label=1;case 1:return n.trys.push([1,5,,6]),(e=(0,a.getDecodedIDToken)())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,(0,l.getProfile)()];case 3:if((t=n.sent())&&t.userId)return[2,t.userId];n.label=4;case 4:return[3,6];case 5:return n.sent(),o.kg.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}}))}))}function d(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,f()];case 1:return(e=t.sent())&&"u"===e.substring(0,1)?[2,e]:[2]}}))}))}var h=function(){function e(){this.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},this.injected=!1}return Object.defineProperty(e,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"GENERAL_UTS_ID",{get:function(){return"liff_general"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"GENERAL_APP_NAME",{get:function(){return"LIFF General"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return"analytics"},enumerable:!1,configurable:!0}),e.prototype.install=function(e){var t=e.addHooks,n=e.liff;this.liffCore=n,t({beforeInitFinished:this.beforeInitFinished.bind(this),beforeInitSuccess:this.beforeInitSuccess.bind(this),initError:this.initError.bind(this)})},e.prototype.changeRatioToUTSFormat=function(e){if(e&&Number.isFinite(e))return Math.round(100*e)},e.prototype.setExtra=function(){var t=this.utsExtra,n=t.isLiffSuccessful,r=t.isLoggedIn,i=t.id,o=t.version,s=(r?e.LiffUtsLoginStatus.isLoggedIn:0)|(n?e.LiffUtsLoginStatus.isLiffSuccessful:0);this.uts.setExtra("liff",{id:i,loginStatus:s,version:o})},e.prototype.assignUtsExtra=function(e){Object.assign(this.utsExtra,e)},e.prototype.setVersion=function(e){this.assignUtsExtra({version:e}),o.kg.debug("[LIFFUTS][SDK version] "+e),this.setExtra()},e.prototype.setLiffId=function(e){this.assignUtsExtra({id:e}),o.kg.debug("[LIFFUTS][LIFFID] "+e),this.setExtra()},e.prototype.setIsLoggedIn=function(e){this.assignUtsExtra({isLoggedIn:e}),o.kg.debug("[LIFFUTS][isLoggedIn] "+e),this.setExtra()},e.prototype.sendLiffInit=function(){o.kg.debug("[LIFFUTS][sendCustom] liff.init"),this.uts.sendCustom({type:e.CUSTOMTYPE,params:{placeId:e.CUSTOMPLACEID_INIT}})},e.prototype.setIsLiffSuccessful=function(e){this.assignUtsExtra({isLiffSuccessful:e}),o.kg.debug("[LIFFUTS][isLiffInitSuccessful] "+e),this.setExtra()},e.prototype.prepareReferrer=function(e){var t={};Object.keys(e).forEach((function(n){if(i.qX.includes(n)){var r=e[n];"string"==typeof r&&r&&(t[n.replace(/^liff\.ref\./,"")]=r)}})),Object.keys(t).length>0&&(this.referrer=t)},e.prototype.beforeInitFinished=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,i,l,f,h,p,g,v,m,w,b,y;return(0,r.Jh)(this,(function(I){switch(I.label){case 0:if(t=s.qs.parse(window.location.search),this.prepareReferrer(t),n=(0,a.getContext)(),!(i=null==n?void 0:n.utsTracking))return[2];if("auto"!==(l=i.mode)&&"force"!==l)return[3,6];o.kg.debug("[LIFFUTS] "+(new Date).toUTCString()),f=(0,a.getConfig)(),h=f.liffId,p=f.analytics,I.label=1;case 1:return I.trys.push([1,3,,4]),g=this,[4,new Promise((function(e,t){var n=window.uts,r=document.createElement("script");r.type="text/javascript",r.src="https://static.line-scdn.net/uts/edge/4.1.0/uts.js",r.onload=function(){var t=window.uts;e(t),window.uts=n},r.onerror=function(e){t(e)},document.getElementsByTagName("head")[0].appendChild(r)}))];case 2:return g.uts=I.sent(),[3,4];case 3:return v=I.sent(),o.kg.debug("[LIFFUTS] cannot load UTS, reason: "+v),[2];case 4:return m=void 0,w=void 0,"force"===l?(m={utsId:e.GENERAL_UTS_ID,appName:e.GENERAL_APP_NAME,appEnv:"release"},w={endpoint:"https://uts-front.line-apps.com",sampleRate:this.changeRatioToUTSFormat(i.sendRatio),version:"current"}):(m=(0,r.pi)((0,r.pi)({},null==p?void 0:p.context),{utsId:(null==p?void 0:p.context.utsId)||e.GENERAL_UTS_ID,appName:(null==p?void 0:p.context.appName)||e.GENERAL_APP_NAME,appEnv:(null==p?void 0:p.context.appEnv)||"release"}),w=(0,r.pi)((0,r.pi)({endpoint:"https://uts-front.line-apps.com"},null==p?void 0:p.options),{sampleRate:this.changeRatioToUTSFormat(i.sendRatio),version:"current"})),this.uts.init(m,w),[4,d()];case 5:(b=I.sent())&&(o.kg.debug("[LIFFUTS][mid] "+b),this.uts.setMid(b)),(null==n?void 0:n.tid)&&(o.kg.debug("[LIFFUTS][tid] "+n.tid),this.uts.setTid(n.tid)),this.referrer&&(o.kg.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),h&&this.setLiffId(h),this.setIsLoggedIn((0,c.isLoggedIn)()),this.setVersion((0,u.getVersion)()),y=(0,s.jK)(location.href),o.kg.debug("[LIFFUTS][url] "+y),this.uts.setUrl(y),this.liffCore.analytics=this.uts,this.injected=!0,I.label=6;case 6:return[2]}}))}))},e.prototype.beforeInitSuccess=function(){this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit())},e.prototype.initError=function(){this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit())},e}(),p=function(e){o.kg.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),e.sendCustom({type:"liffSdk",params:{placeId:"liff.shareTargetPicker"}})}},731:(e,t,n)=>{"use strict";n.r(t),n.d(t,{closeWindow:()=>a});var r=n(530),i=n(751),o=n(742),s=n(7);function a(){var e=(0,o.getLineVersion)();null!==e&&("ios"===(0,i.getOS)()&&(0,r.yC)(e,"9.19")>=0||"android"===(0,i.getOS)()&&(0,r.yC)(e,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?null!==e&&(0,r.yC)(e,"10.15.0")>=0?"ios"===(0,i.getOS)()?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):(0,s.call)("closeWindow"):window.close()}},153:(e,t,n)=>{"use strict";n.d(t,{c1:()=>l,IN:()=>m,v9:()=>f,xe:()=>a,$f:()=>s,qY:()=>o,Is:()=>u,FW:()=>c,RE:()=>d,OA:()=>w,mx:()=>p,E6:()=>A,Ls:()=>h,Oi:()=>g,PV:()=>v,I:()=>I,qI:()=>O,KC:()=>C,WU:()=>k,Pj:()=>E,_b:()=>_,ZD:()=>y,Fd:()=>S,zi:()=>T,WY:()=>i,lz:()=>r,qX:()=>b});var r="UNKNOWN",i="UNAUTHORIZED",o="INVALID_ARGUMENT",s="INIT_FAILED",a="FORBIDDEN",u="INVALID_CONFIG",c="INVALID_ID_TOKEN",l="CREATE_SUBWINDOW_FAILED",f="EXCEPTION_IN_SUBWINDOW",d="liffEvent",h="LIFF_STORE",p="https://liff.line.me/",g={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData",AUTOLOGIN_ATTEMPT:"autologinAttempt"},v="isInClient",m=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],w=5,b=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"],y="liff://subwindow",I="cancel",T="submit",O="close",C="error",S=100,k=100,_="liff.subwindow",E="healthCheck",A=["profile","chat_message.write","openid","email"]},900:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getFriendship:()=>i});var r=n(840);function i(){return(0,r.he)((0,r.ZJ)("friendship"))}},131:(e,t,n)=>{"use strict";function r(){return navigator.language}n.r(t),n.d(t,{getLanguage:()=>r})},742:(e,t,n)=>{"use strict";function r(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}n.r(t),n.d(t,{getLineVersion:()=>r})},751:(e,t,n)=>{"use strict";var r;function i(){if(!r){var e=window.navigator.userAgent.toLowerCase();r=/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":"web"}return r}function o(){r=void 0}n.r(t),n.d(t,{_cleanupCachedOS:()=>o,getOS:()=>i})},523:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getProfile:()=>i});var r=n(840);function i(){return(0,r.he)((0,r.ZJ)("profile"))}},74:(e,t,n)=>{"use strict";function r(){return"2.16.1"}n.r(t),n.d(t,{getVersion:()=>r})},160:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InitModule:()=>V});var r=n(655),i=n(530),o=n(350),s=n(907),a=n(743),u=n(153),c=n(751),l=n(742);function f(){return function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise((function(e,t){var n,r=document.createElement("script"),o="ios"===(0,c.getOS)()?(n=(0,l.getLineVersion)())&&(0,i.yC)(n,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions.js";r.onload=function(){var n=window.liffClientExtension;n?e(n):t((0,i.IO)(u.$f,"Unable to load client features. (Extension is empty)"))},r.onerror=function(){t((0,i.IO)(u.$f,"Unable to load client features."))},r.src=o,r.type="text/javascript",document.body.appendChild(r)}))]}}))},new((n=void 0)||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}()}var d=n(948),h=n(737),p=n(830),g=n(583),v=n(840),m=n(416),w=n(7),b=n(591),y={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},I={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function T(e){var t=(0,a.getContext)(),n=(null==t?void 0:t.menuColorSetting)||{adaptableColorSchemes:["light"],lightModeColor:y,darkModeColor:I},i=n.adaptableColorSchemes,o=n.lightModeColor,s=n.darkModeColor,u=i.includes("dark");e.matches&&u?O((0,r.pi)((0,r.pi)({},I),s)):O((0,r.pi)((0,r.pi)({},y),o))}function O(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,o=e.titleSubtextColor,s=e.titleButtonColor,a=e.titleBackgroundColor,u=e.progressBarColor,c=e.progressBackgroundColor,l=e.titleButtonAreaBackgroundColor,f=e.titleButtonAreaBorderColor,d=e.baseBackgroundColor,h=e.baseTextColor,p=e.lightButtonBorderColor;C("--liff-base-background-color",d),C("--liff-base-text-color",h),C("--liff-base-background-rgb-color",(0,i.Gr)(d)),C("--liff-base-text-rgb-color",(0,i.Gr)(h)),C("--liff-light-button-border-color",p),C("--liff-title-text-color",r),C("--liff-title-background-color",a),C("--liff-title-button-color",s),C("--liff-icon-color",t),C("--liff-status-bar-color",n),C("--liff-title-subtext-color",o),C("--liff-progress-bar-color",u),C("--liff-progress-background-color",c),C("--liff-title-button-area-background-color",(0,i.mP)(l)),C("--liff-title-button-area-border-color",(0,i.mP)(f))}function C(e,t){document.documentElement.style.setProperty(e,t)}function S(e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,f()];case 1:return t.sent().install(e),[2]}}))}))}function k(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,v.he)((0,v.ZJ)("certs"))];case 1:return[2,e.sent()]}}))}))}function _(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 1:return i=r.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},i,n,t)];case 2:return[2,r.sent()]}}))}))}function E(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,o,s,a,c,l,f,d,h,p,g,v,m,w,b,y;return(0,r.Jh)(this,(function(I){switch(I.label){case 0:return n=e.split("."),o=(0,r.CR)(n,3),s=o[0],a=o[1],c=o[2],l=JSON.parse(i.ew.decode(s)),f=JSON.parse(i.ew.decodeUnicode(a)),d=(0,i.PM)(i.ew.decode(c)),h=(0,i.PM)(s+"."+a),[4,k()];case 1:if(p=I.sent(),!(g=p.keys.find((function(e){return e.kid===l.kid}))))return[3,6];if(delete g.alg,"ES256"!==l.alg)throw(0,i.IO)(u.FW,'Invalid "alg" value in ID_TOKEN');v=void 0,I.label=2;case 2:return I.trys.push([2,4,,5]),[4,_(g,h,d)];case 3:return v=I.sent(),[3,5];case 4:throw m=I.sent(),(0,i.IO)(u.FW,"Failed to use Crypto API to verify ID_TOKEN: "+m);case 5:if(v){if(w="https://access.line.me"!==f.iss,b=f.aud!==t,y=1e3*f.exp<Date.now(),w)throw(0,i.IO)(u.FW,'Invalid "iss" value in ID_TOKEN');if(b)throw(0,i.IO)(u.FW,'Invalid "aud" value in ID_TOKEN');if(y)throw(0,i.IO)(u.FW,'Invalid "exp" value in ID_TOKEN');return[2,f]}throw(0,i.IO)(u.FW,"Invalid signature in ID_TOKEN");case 6:throw(0,i.IO)(u.FW,'Invalid "kid" value in ID_TOKEN');case 7:return[2]}}))}))}function A(e){var t=e.split(".");if(t[1])try{var n=t[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}catch(e){return null}return null}function P(e){var t=e.pathname,n=e.query,r="liff://"+t+(n?"?"+i.qs.stringify(n):"");location.href=r}var x=null;function L(){return Boolean(x)}function F(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(n=(0,a.getMST)())?[2,n]:e&&t?[4,(0,g.getMSTByMSIT)({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}}))}))}function j(e){return(0,v.he)((0,v.ZJ)("apps")+"/"+e+"/featureToken")}function M(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,o,u,c,l,f;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return t=i.qs.parse(window.location.hash),n=(0,i.Kg)({access_token:(0,a.getAccessToken)(),context_token:(0,a.getRawContext)(),feature_token:(0,a.getFeatureToken)(),id_token:(0,a.getIDToken)(),client_id:(0,a.getClientId)(),mst_challenge:(0,a.getMSTChallenge)(),mst_verifier:(0,a.getMSTVerifier)(),msit:(0,a.getMSIT)()},t),L()?(0,s.isLoggedIn)()?[4,j(e)]:[3,2]:[3,3];case 1:u=r.sent(),c=u.featureToken,l=u.features,o=l,n.feature_token||(n.feature_token=c),r.label=2;case 2:(f=(0,i.My)(e))&&(n.client_id=f),r.label=3;case 3:return[2,{credentials:n,features:o}]}}))}))}function D(e){if(e.persisted&&(0,b.isApiAvailable)("multipleLiffTransition"))if("ios"===(0,c.getOS)())window.location.reload();else{var t=(0,a.getConfig)().liffId,n=(0,a.getFeatureToken)();if(!t)throw(0,i.IO)(u.$f,"Invalid LIFF ID.");if(!n)throw(0,i.IO)(u.xe,"Invalid featureToken for client features");P({pathname:"app/"+t,query:{feature_token:n}})}}function R(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,(0,v.ez)(e)];case 1:return n=r.sent().client_id,o=(0,i.My)(t),[2,n===o]}}))}))}function U(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,o,c,f,h,v,y,I,T,O,C,S,k;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(e){var t=(0,l.getLineVersion)();if(!t||(0,i.yC)(t,"9.5.0")<0)e();else if(window._liff&&window._liff.features)e();else{m.kg.debug("cannot find window._liff.features, listen to ready event");var n=function(){m.kg.debug("ready event is fired"),(0,w.removeListener)("ready",n),e()};(0,w.addListener)("ready",n)}}))];case 1:return r.sent(),"boolean"==typeof x&&m.kg.warn("liff.init is not expected to be called more than once"),x=!!(0,a.getIsSubsequentLiffApp)()||!(!(0,d.isInClient)()||i.qs.parse(window.location.hash).feature_token||(0,a.getFeatureToken)())&&((0,a.setIsSubsequentLiffApp)(!0),!0),[4,M(t.liffId)];case 2:return n=r.sent().credentials,o=n.access_token,c=n.context_token,f=n.feature_token,h=n.id_token,v=n.client_id,y=n.mst_verifier,I=n.mst_challenge,T=n.msit,!(0,p.isSubWindow)()&&f&&(function(e,t){(0,b.isApiAvailable)("multipleLiffTransition")&&P({pathname:"app/"+e,query:{feature_token:t}})}(t.liffId,f),L()&&(0,a.setFeatureToken)(f)),c&&(0,a.setContext)(A(c)),I&&(0,a.setMSTChallenge)(I),y&&(0,a.setMSTVerifier)(y),v&&(0,a.setClientId)(v),T&&(0,a.setMSIT)(T),window.addEventListener("pageshow",D),(0,s.isLoggedIn)()?[3,7]:f&&o?[3,5]:L()?(O=(0,i.Sr)(location.href,{"liff.hback":"2"}),e.login({redirectUri:O}),[4,new Promise((function(){}))]):[3,4];case 3:r.sent(),r.label=4;case 4:throw e.login(),(0,i.IO)(u.$f,"Failed to parse feature_token or access_token");case 5:return[4,R(o,t.liffId)];case 6:if(!r.sent())throw e.login(),(0,i.IO)(u.$f,"Failed to verify access_token");(0,a.setFeatureToken)(f),(0,a.setAccessToken)(o),r.label=7;case 7:return[4,F(T,y)];case 8:return(C=r.sent())?((0,a.setMST)(C),[4,(0,g.getAppData)({mst:C})]):[3,10];case 9:(S=r.sent().data)&&(0,a.setAppData)(JSON.stringify(S)),r.label=10;case 10:return h&&!(0,a.getIDToken)()&&(0,a.setIDToken)(h),h&&v&&!(0,a.getDecodedIDToken)()?[4,E(h,v)]:[3,12];case 11:(k=r.sent())&&(0,a.setDecodedIDToken)(k),r.label=12;case 12:return[2]}}))}))}function W(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,o,s,c,l,f;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return t=(0,v.ZJ)("apps"),n=t+"/"+e+"/contextToken",o=(0,a.getAccessToken)(),s={"Content-Type":"application/json",Accept:"application/json"},o&&(s.Authorization="Bearer "+o),[4,(0,v.he)(n,{headers:s})];case 1:if(c=r.sent(),!(l=c.contextToken))throw(0,i.IO)(u.$f,"Can not get context from server.");if(!(f=A(l)))throw(0,i.IO)(u.$f,"Invalid context token.");return[2,f]}}))}))}function N(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if(!(e=(0,a.getConfig)().liffId))throw(0,i.IO)(u.$f,"Invalid LIFF ID.");return[4,W(e)];case 1:return t=n.sent(),(0,a.setContext)(t),[2]}}))}))}function B(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,o,s=this;return(0,r.Jh)(this,(function(u){switch(u.label){case 0:t=function(){return(0,r.mG)(s,void 0,void 0,(function(){var t,n,o,s,u,c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,(l=(0,a.getConfig)(),f=i.qs.parse(window.location.search),d=(0,a.getLoginTmp)(),h={grant_type:"authorization_code",client_id:f.liffClientId,appId:l.liffId,code:f.code,code_verifier:d.codeVerifier,redirect_uri:l.redirectUri||f.liffRedirectUri,id_token_key_type:"JWK"},p=i.qs.stringify(h),(0,v.he)((0,v.ZJ)("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:p}))];case 1:return t=r.sent(),n=t.access_token,o=t.id_token,s=t.expires_in,(0,a.setClientId)(e),(0,a.setAccessToken)(n),(0,a.setExpireTime)(new Date(Date.now()+1e3*s)),(0,a.removeLoginTmp)(),o?((0,a.setIDToken)(o),[4,E(o,e)]):[3,3];case 2:(u=r.sent())&&(0,a.setDecodedIDToken)(u),r.label=3;case 3:return(c=i.qs.parse(location.hash).context_token)?((0,a.setContext)(A(c)),[3,6]):[3,4];case 4:return[4,N()];case 5:r.sent(),r.label=6;case 6:return[2]}var l,f,d,h,p}))}))},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t()];case 2:return u.sent(),[3,4];case 3:throw n=u.sent(),o=n,(0,a.removeLoginTmp)(),o;case 4:return[2]}}))}))}var J=new(function(){function e(){var e=this;this.getAndValidateContext=function(){var e=(0,a.getContext)();if(!e)throw(0,i.IO)(u.$f,"Could not get Context from server.");if(!e.endpointUrl)throw(0,i.IO)(u.$f,"Could not get endpointUrl from server.");if(!e.permanentLinkPattern)throw(0,i.IO)(u.$f,"Could not get permanentLinkPattern from server.");return e},this.decodeState=function(t){var n=e.getAndValidateContext();t=t.replace(/\n/g,"%0D%0A");var r=!n.endpointUrl.startsWith("/?")&&n.endpointUrl.includes("/?")||!n.endpointUrl.startsWith("/#")&&n.endpointUrl.includes("/#")||n.endpointUrl.endsWith("/")||!t.startsWith("/?")&&t.includes("/?")||!t.startsWith("/#")&&t.includes("/#")||t.endsWith("/"),i=new URL(n.endpointUrl),o=i.origin,s=i.pathname,a=i.search,u=new URL(""+o+e.attachSlashAtStart(t)),c=u.pathname,l=u.search,f=u.hash,d=""+a+(a?l.replace(/\?/g,"&"):l),h=(""+s+e.attachSlashAtStart(c)).replace("//","/");return(h=e.attachSlashAtStart(""+h)).endsWith("/")&&!r&&(h=h.substring(0,h.length-1)),(""+o+h+d+f).replace(/%0D%0A/g,"\n")}}return e.prototype.attachSlashAtStart=function(e){return(e&&e.length>0&&!e.startsWith("/")?"/":"")+e},e.prototype.invoke=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n,o,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(e=i.qs.parse(window.location.search),"string"!=typeof(t=e["liff.state"]))return[2];r.label=1;case 1:return r.trys.push([1,4,,5]),n=location.href,(o=this.decodeState(t))===n?[3,3]:(e["liff.hback"]?location.replace((0,i.Sr)(o,{"liff.hback":e["liff.hback"]})):location.replace(o),[4,new Promise((function(){}))]);case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if((s=r.sent()).code===u.$f)throw s;return m.kg.debug(s),[3,5];case 5:return[2]}}))}))},e}());function G(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(!n.liffId)throw(0,i.IO)(u.Is,"liffId is necessary for liff.init()");return(0,a.setConfig)(n),!(0,d.isInClient)()&&(0,s.isLoggedIn)()&&((0,a.getExpireTime)()||(0,h.logout)()),o=i.qs.parse(window.location.search),!(0,p.isSubWindow)()||(0,d.isInClient)()?[3,2]:[4,new Promise((function(e){(0,g.getMainWindowOrigin)()?e():window.addEventListener("message",(function t(n){var r=n.data,i=n.source,o=n.origin;if(r){var s=r.type,c=r.message;s===u.Pj&&(window.removeEventListener("message",t),c&&(0,a.setAppData)(c),(0,g.setMainWindowOrigin)(o),i&&i.postMessage&&i.postMessage({status:u.Pj},o),e())}}))}))];case 1:r.sent(),r.label=2;case 2:if(o.error&&o.liffOAuth2Error)throw f=o.error,v=o.error_description.replace(/\+/g," "),(0,i.IO)(u.$f,f+": "+v);return c=o.code,l=(0,a.getLoginTmp)(),Boolean(c&&!(0,s.isLoggedIn)()&&l&&l.codeVerifier)?[4,B(o.liffClientId)]:[3,4];case 3:r.sent(),r.label=4;case 4:return(0,d.isInClient)()?[4,U(e,n)]:[3,6];case 5:return r.sent(),[3,8];case 6:return(0,s.isLoggedIn)()?[3,8]:[4,N()];case 7:r.sent(),r.label=8;case 8:return[4,J.invoke()];case 9:return r.sent(),[4,t.runHook("beforeInitFinished")];case 10:return r.sent(),(0,i.Jd)(window.location.href),[2]}var c,l,f,v}))}))}var V=function(){function e(e){this.moduleDriver=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"init"},enumerable:!1,configurable:!0}),e.prototype.install=function(e){var t=e.liff;return this.liff=t,this.init.bind(this)},e.prototype.init=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:l=this.liff,window&&!window.liff&&(window.liff=l),r.label=1;case 1:return r.trys.push([1,9,,11]),[4,Promise.all([S(this.liff),G(this.liff,this.moduleDriver,e)])];case 2:return r.sent(),function(){var e;C("color-scheme",((null==(e=(0,a.getContext)())?void 0:e.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var t=window.matchMedia("(prefers-color-scheme: dark)");T({matches:null==t?void 0:t.matches,media:null==t?void 0:t.media}),t.addEventListener?t.addEventListener("change",T):t.addListener&&t.addListener(T)}(),[4,this.moduleDriver.runHook("beforeInitSuccess")];case 3:if(r.sent(),!e.withLoginOnExternalBrowser||(0,s.isLoggedIn)())return[3,7];if(!(0,a.getAutologinAttempt)())return[3,4];throw(0,i.IO)(u.$f,"Auto login failure");case 4:return(0,a.setAutologinAttempt)(),this.liff.login(),[4,new Promise((function(){}))];case 5:r.sent(),r.label=6;case 6:return[3,8];case 7:e.withLoginOnExternalBrowser&&(0,a.clearAutologinAttempt)(),r.label=8;case 8:return"function"==typeof t&&t(),(0,o.done)(),[3,11];case 9:return c=r.sent(),[4,this.moduleDriver.runHook("initError",c)];case 10:throw r.sent(),"function"==typeof n&&n(c),c;case 11:return[2]}var l}))}))},e}()},591:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isApiAvailable:()=>p});var r=n(153),i=n(530),o=n(743),s=n(948),a=n(907),u=n(742),c=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen"];function l(e){var t,n=(0,o.getContext)();return null===(t=null==n?void 0:n.availability)||void 0===t?void 0:t[e]}function f(e,t){var n=(0,u.getLineVersion)();return!!n&&!(t&&(0,i.yC)(n,t)>0)&&(0,i.yC)(n,e)>=0}function d(e){var t=l(e);if(!t)return!1;var n=t.permission,r=t.minVer,i=t.unsupportedFromVer;return!!n&&!!(0,s.isInClient)()&&f(r,i)}var h={shareTargetPicker:function(){if(!(0,a.isLoggedIn)())return!1;var e=l("shareTargetPicker");if(!e)return!1;var t=e.permission,n=e.minVer;if(!t)return!1;if((0,s.isInClient)()){var r=(0,u.getLineVersion)();return null!==r&&(0,i.yC)(r,n)>=0}return!0},multipleLiffTransition:function(){var e=l("multipleLiffTransition");if(!e)return!1;var t=e.permission;return(0,s.isInClient)()&&t},subwindowOpen:function(){var e=l("subwindowOpen");return!(!e||!e.permission)&&(!(0,s.isInClient)()||f(e.minVer,e.unsupportedFromVer))},scanCode:function(){return d("scanCode")},scanCodeV2:function(){var e=l("scanCodeV2");return!(!e||!e.permission)&&(!(0,s.isInClient)()||f(e.minVer))},getAdvertisingId:function(){return d("getAdvertisingId")},addToHomeScreen:function(){return d("addToHomeScreen")},bluetoothLeFunction:function(){return d("bluetoothLeFunction")},skipChannelVerificationScreen:function(){return d("skipChannelVerificationScreen")}};function p(e){if(!c.includes(e))throw(0,i.IO)(r.qY,"Unexpected API name.");var t=h[e];return!t||t()}},948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{_cleanupCachedIsInClient:()=>a,isInClient:()=>s});var r=n(153),i=n(530),o=null;function s(){return null===o&&(o=(0,i.z7)()||(0,i.cn)()&&/[#|&]access_token=/.test(location.hash)||"1"===sessionStorage.getItem(r.Ls+":"+r.PV),sessionStorage.setItem(r.Ls+":"+r.PV,o?"1":"0")),!!o}function a(){o=null}},907:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isLoggedIn:()=>i});var r=n(743);function i(){return!!(0,r.getAccessToken)()}},830:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IsSubWindowModule:()=>c,isSubWindow:()=>f,module:()=>l});var r=n(153),i=n(530),o=n(743),s=n(948),a=function(){function e(){}return e.prototype.invoke=function(){return(0,i.Jo)()},e}(),u=function(){function e(e){this.storage=e}return Object.defineProperty(e,"IN_SUB_WINDOW_KEY",{get:function(){return"inSubWindow"},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){return!!this.getInSubWindow()||!!new URLSearchParams(window.location.search).has(r._b)&&(this.setInSubWindow(!0),!0)},e.prototype.getInSubWindow=function(){var t=this.storage.getItem(r.Ls+":"+this.getLiffId()+":"+e.IN_SUB_WINDOW_KEY);return null!==t&&JSON.parse(t)},e.prototype.setInSubWindow=function(t){this.storage.setItem(r.Ls+":"+this.getLiffId()+":"+e.IN_SUB_WINDOW_KEY,String(t))},e.prototype.getLiffId=function(){var e=(0,o.getConfig)().liffId;if(!e)throw(0,i.IO)(r.Is,"liffId is necessary for liff.init()");return e},e}(),c=function(){function e(){(0,s.isInClient)()?this.impl=new a:this.impl=new u(window.sessionStorage)}return Object.defineProperty(e.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.impl.invoke.bind(this.impl)},e}(),l=new c,f=l.install()},416:(e,t,n)=>{"use strict";n.d(t,{kg:()=>a});var r,i,o=n(655);(i=r||(r={}))[i.DEBUG=1]="DEBUG",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR";var s=function(){function e(e){void 0===e&&(e=r.INFO),this.logLevel=e,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=r.DEBUG&&(e.unshift("[DEBUG]"),this._debug.apply(this,(0,o.fl)(e)))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=r.INFO&&(e.unshift("[INFO]"),this._info.apply(this,(0,o.fl)(e)))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=r.WARN&&(e.unshift("[WARN]"),this._warn.apply(this,(0,o.fl)(e)))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<=r.ERROR&&(e.unshift("[ERROR]"),this._error.apply(this,(0,o.fl)(e)))},e}(),a=new s(Number("3"))},669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LoginModule:()=>h});var r=n(153),i=n(416),o=n(530),s=n(743),a=n(840),u=n(74),c=n(830),l=n(948),f=n(709),d=n.n(f),h=function(){function e(e){this.driver=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"login"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.login.bind(this)},e.prototype.login=function(e){this.driver.runSyncHook("beforeLogin",e);var t=(0,o.DM)(43),n=(0,o.Wi)(d()(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),f=(0,s.getConfig)();if(!f||!f.liffId)throw(0,o.IO)(r.Is,"You need to define `liffId` for liff.login()");var h={app_id:f.liffId,state:(0,o.DM)(12),response_type:"code",code_challenge_method:"S256",code_challenge:n,liff_sdk_version:(0,u.getVersion)()};e&&e.redirectUri&&(h.redirect_uri=e.redirectUri),(0,c.isSubWindow)()&&!(0,l.isInClient)()&&(h.disable_auto_login="true"),(0,s.setLoginTmp)({codeVerifier:t});var p=(0,a.ZJ)("authorize")+"?"+o.qs.stringify(h);i.kg.debug("[Redirect] "+p),window.location.href=p},e}()},737:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logout:()=>i});var r=n(743);function i(){(0,r.clean)()}},7:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addListener:()=>f,call:()=>g,createEvent:()=>u,dispatch:()=>h,postMessage:()=>p,removeListener:()=>d});var r=n(153),i=n(416),o=n(530),s=n(743),a=n(655);function u(e){return new CustomEvent(r.RE,{detail:e})}!function(){if("function"!=typeof window.CustomEvent){function e(e,t){var n=t||{},r=n.bubbles,i=void 0!==r&&r,o=n.cancelable,s=void 0!==o&&o,a=n.detail,u=void 0===a?void 0:a,c=document.createEvent("CustomEvent");return c.initCustomEvent(e,i,s,u),c}e.prototype=Event.prototype,window.CustomEvent=e}}();var c={},l=!1;function f(e,t){l||(l=!0,window.addEventListener(r.RE,(function(e){e&&e.detail&&e.detail.type&&c[e.detail.type]&&c[e.detail.type].forEach((function(t){return t(e)}))}))),c[e]?c[e].push(t):c[e]=[t]}function d(e,t){var n=c[e];if(n&&Array.isArray(n)){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function h(e){var t={};try{t=JSON.parse(e)}catch(e){throw(0,o.IO)(r.qY,e.message)}var n=u(t);i.kg.debug("[client dispatchEvent to js]",{type:n.type,detail:n.detail}),window.dispatchEvent(n)}function p(e,t,n){void 0===t&&(t={}),void 0===n&&(n="");var a=(0,s.getFeatureToken)();if(!a)throw(0,o.IO)(r.xe,"Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw(0,o.IO)(r.qY,"postMessage is not available from client");i.kg.debug("[js postMessage to client]",e,n,t),window._liff.postMessage(e,a,n,JSON.stringify(t))}function g(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={once:!0}),(0,s.getFeatureToken)()?(n=(0,a.pi)({callbackId:(0,o.DM)(12),once:!0},n),new Promise((function(r,o){var s=function(t){if(t&&t.detail){var a=t.detail.callbackId===n.callbackId,u="string"!=typeof t.detail.callbackId;(a||u)&&(n.once&&d(e,s),i.kg.debug("[callback detail]",t.detail),t.detail.error?o(t.detail.error):t.detail.data?r(t.detail.data):o(t.detail))}o()};f(e,s),p(e,t,n.callbackId)}))):Promise.reject((0,o.IO)(r.xe,"Invalid featureToken for client features"))}},242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{openWindow:()=>l});var r=n(655),i=n(153),o=n(530),s=n(948),a=n(751),u=n(742),c=n(7);function l(e){if(!function(e){if(!e||"object"!=typeof e)return!1;var t=e,n=t.url,i=t.external,o=(0,r.CR)([typeof n,typeof i],2),s=o[0],a=o[1];return"string"===s&&""!==n&&("undefined"===a||"boolean"===a)}(e))throw(0,o.IO)(i.qY,"Invalid parameters for liff.openWindow()");var t=(0,u.getLineVersion)();if((0,s.isInClient)())if(null!==t&&"ios"===(0,a.getOS)()&&(0,o.yC)(t,"9.19")>=0||!window._liff.postMessage){var n=e.url,l=e.external,f=void 0!==l&&l;window.open(function(e,t){var n=(0,r.CR)(e.split("?"),2),i=n[0],o=n[1],s=(0,r.CR)((void 0===o?"":o).split("#"),2),a=s[0],u=s[1];return i+"?is_liff_external_open_window="+!!t+(a?"&"+a.split("&").filter((function(e){return-1===e.indexOf("is_liff_external_open_window")})).join("&").concat(u?"#"+u:""):"")}(n,f))}else(0,c.call)("openWindow",e);else window.open(e.url,"_blank")}},715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PermanentLink:()=>s,module:()=>a});var r=n(153),i=n(530),o=n(743),s=function(){function e(){var e=this;this.extraParams="",this.getAndValidateContext=function(){var e=(0,o.getContext)();if(!e)throw(0,i.IO)(r.$f,"Could not get Context from server.");if(!e.endpointUrl)throw(0,i.IO)(r.$f,"Could not get endpointUrl from server.");if(!e.permanentLinkPattern)throw(0,i.IO)(r.$f,"Could not get permanentLinkPattern from server.");return e},this.createUrl=function(){var t=e.getAndValidateContext(),n=window.location,s=n.pathname,a=n.search,u=n.hash,c=n.origin,l=new URL(t.endpointUrl);if(l.origin!==c||!e.isAncestor(l.pathname,s))throw(0,i.IO)(r.Is,"Current page is not under entrypoint.");var f=s.substring(l.pathname.length);f.length>0&&"/"!==f[0]&&(f="/"+f);var d=new RegExp("^"+r.IN.join("|")),h=u.substring(1).split("&").filter((function(e){return!d.test(e)&&Boolean(e)})).join("&"),p=h===l.hash.substring(1)?"":h,g=function(e){return e.substring(1).split("&").filter((function(e){return!/liff\.state/.test(e)&&Boolean(e)}))},v=g(a),m=g(l.search);e.extraParams&&v.push(e.extraParams);for(var w=0;w<m.length;w++){var b=m[w],y=v.indexOf(b);y>-1&&v.splice(y,1)}var I=v.join("&"),T=f+(""!==I?"?"+I:"")+(p?"#"+p:"");return""+r.mx+(0,o.getConfig)().liffId+T},this.setExtraQueryParam=function(t){e.extraParams=t},this.isAncestor=function(e,t){return 0===t.indexOf(e)&&(e.endsWith("/")&&(e=e.substring(0,e.length-1)),void 0===t[e.length]||"/"===t[e.length])},this.install=function(){return{createUrl:e.createUrl,setExtraQueryParam:e.setExtraQueryParam}}}return Object.defineProperty(e.prototype,"name",{get:function(){return"permanentLink"},enumerable:!1,configurable:!0}),e}(),a=new s},851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PermissionModule:()=>I,attachChecker:()=>y,module:()=>T});var r=n(655),i=n(153),o=n(530),s=n(743),a=n(840),u=n(948),c=n(583),l=n(591);function f(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,u,c,l,f,d;return(0,r.Jh)(this,(function(h){switch(h.label){case 0:return function(e){if(!i.E6.includes(e))throw(0,o.IO)(i.qY,"Unexpected permission name.");var t=(0,s.getContext)();return!!(null==t?void 0:t.scope.includes(e))}(e)?(t=(0,s.getAccessToken)())?[4,(0,a.ez)(t)]:[3,2]:[2,{state:"unavailable"}];case 1:n=h.sent(),u=unescape(n.scope).split(" ");try{for(c=(0,r.XA)(u),l=c.next();!l.done;l=c.next())if(l.value.includes(e))return[2,{state:"granted"}]}catch(e){f={error:e}}finally{try{l&&!l.done&&(d=c.return)&&d.call(c)}finally{if(f)throw f.error}}return[2,{state:"prompt"}];case 2:throw(0,o.IO)(i.WY,"LiffId is not found.")}}))}))}function d(){var e,t,n=(0,s.getContext)();return!!n&&"square_chat"!==n.type&&((0,l.isApiAvailable)("skipChannelVerificationScreen")||!(0,u.isInClient)()&&(null===(t=null===(e=n.availability)||void 0===e?void 0:e.skipChannelVerificationScreen)||void 0===t?void 0:t.permission))}function h(){var e=(0,s.getConfig)().liffId;if(e)return(0,a.he)((0,a.ZJ)("unauthorizedPermissions")+"?liffId="+e,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+(0,s.getAccessToken)()}});throw(0,o.IO)(i.WY,"liffId is required")}var p,g=c.subWindow.on,v=c.subWindow.off,m=c.subWindow.open,w=function(){function e(e,t){var n=this;this.onSubmit=function(e){var t=e.newAccessToken,s=e.error;return(0,r.mG)(n,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return t?this.resolve({newAccessToken:t}):s&&this.reject((0,o.IO)(i.lz,s)),this.teardown(),[2]}))}))},this.onClose=function(){return(0,r.mG)(n,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return this.reject((0,o.IO)(i.WY,"user didn't allow the agreement")),this.teardown(),[2]}))}))},this.onCancel=function(){return(0,r.mG)(n,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return this.reject((0,o.IO)(i.WY,"user didn't allow the agreement")),this.teardown(),[2]}))}))},this.onError=function(e){return(0,r.mG)(n,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return this.reject(e),this.teardown(),[2]}))}))},this.resolve=e,this.reject=t,this.setup()}return e.prototype.setup=function(){g("submit",this.onSubmit),g("close",this.onClose),g("cancel",this.onCancel),g("error",this.onError)},e.prototype.teardown=function(){v("submit",this.onSubmit),v("close",this.onClose),v("cancel",this.onCancel),v("error",this.onError),p=void 0},e.prototype.open=function(){var e=(0,s.getConfig)().liffId;e?m({url:"https://liff.line.me/1656032314-Xgrw5Pmk",appData:{liffId:e,channelId:(0,o.My)(e),accessToken:(0,s.getAccessToken)()}}):this.reject((0,o.IO)(i.WY,"liffId is required"))},e}();function b(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if(!d())throw(0,o.IO)(i.xe,"SkipChannelVerificationScreen is unavailable.");return p&&p.teardown(),[4,h()];case 1:return e=n.sent(),((0,u.isInClient)()?e:e.filter((function(e){return"chat_message.write"!==e}))).length>0?[4,new Promise((function(e,t){(p=new w(e,t)).open()}))]:[3,3];case 2:return t=n.sent().newAccessToken,(0,s.setAccessToken)(t),[3,4];case 3:throw(0,o.IO)(i.xe,"All permissions have already been approved.");case 4:return[2]}}))}))}function y(e,t){var n=this;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return(0,r.mG)(n,void 0,void 0,(function(){var n,a,c;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:return n=(s.length>0?s[s.length-1]:{}).ignorePermissionCheck,a=void 0!==n&&n,[4,f(t)];case 1:if("unavailable"!==(c=l.sent().state))return[3,2];throw(0,o.IO)(i.xe,"The permission is not in LIFF app scope.");case 2:return"prompt"!==c||!d()||a||!(0,u.isInClient)()&&"chat_message.write"===t?[3,4]:[4,b()];case 3:return l.sent(),[3,5];case 4:a&&s.pop(),l.label=5;case 5:return[4,e.apply(void 0,(0,r.fl)(s))];case 6:return[2,l.sent()]}}))}))}}var I=function(){function e(){this.name="permission"}return e.prototype.install=function(){return{query:f,requestAll:b}},e}(),T=new I},350:(e,t,n)=>{"use strict";n.r(t),n.d(t,{done:()=>r,ready:()=>i});var r,i=new Promise((function(e){r=e}))},72:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ScanCodeV2Module:()=>f,module:()=>d});var r,i=n(655),o=n(153),s=n(530),a=n(583),u=n(591),c=function(){function e(e,t){var n=this;this.resolve=e,this.reject=t,this.onSubmit=function(e){var t=e.message;n.resolve({value:t}),n.destroy()},this.onClose=function(){n.resolve({value:null}),n.destroy()},this.onCancel=function(){n.resolve({value:null}),n.destroy()},this.onError=function(e){n.reject(e),n.destroy()},this.start()}return e.prototype.start=function(){a.subWindow.on("submit",this.onSubmit),a.subWindow.on("close",this.onClose),a.subWindow.on("cancel",this.onCancel),a.subWindow.on("error",this.onError)},e.prototype.destroy=function(){a.subWindow.off("submit",this.onSubmit),a.subWindow.off("close",this.onClose),a.subWindow.off("cancel",this.onCancel),a.subWindow.off("error",this.onError),r=void 0},e}();function l(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){if(!(0,u.isApiAvailable)("subwindowOpen")||!(0,u.isApiAvailable)("scanCodeV2"))throw(0,s.IO)(o.xe,"No permission for liff.scanCodeV2()");return r&&r.destroy(),[2,new Promise((function(e,t){r=new c(e,t),a.subWindow.open({url:"https://liff.line.me/1656359117-jxmx5e11"})}))]}))}))}var f=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return l},e}(),d=new f},489:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sendMessages:()=>u});var r=n(153),i=n(530),o=n(840),s=function(e){return"object"==typeof e&&null!==e&&function(e){return"string"==typeof e||e instanceof String}(e.type)};function a(e){return Promise.reject((0,i.IO)(r.qY,e))}function u(e){if(!function(e){return Array.isArray(e)&&e.every(s)}(e))return a("Parameter 'messages' must be an array of { type, ... }");var t=e.length;return t<1||t>5?a("Number of messages should be in range 1 to 5."):(0,o.he)((0,o.ZJ)("message"),{method:"POST",body:JSON.stringify({messages:e})})}},840:(e,t,n)=>{"use strict";n.d(t,{he:()=>c,ZJ:()=>h,e2:()=>l,ez:()=>p});var r=n(655),i=n(153),o=n(530),s=n(743);function a(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(!e.ok)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,r.sent()];case 3:return r.sent(),[2,e];case 4:return t=String(e.status),n=o.uT.has(t)?t:i.lz,[4,e.json().catch((function(){throw(0,o.IO)(n,e.statusText)}))];case 5:throw s=r.sent(),(0,o.IO)(s.error||n,s.error_description||s.message)}}))}))}function u(e){var t=function(e){if(e)return e;var t=(0,s.getAccessToken)();if(!t)throw(0,o.IO)(i.WY,"Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t}}(e&&e.headers);return(0,r.pi)((0,r.pi)({},e),{headers:t})}function c(e,t){var n;try{n=u(t)}catch(e){return Promise.reject(e)}return fetch(e,n).then(a)}function l(e,t){var n;try{n=u(t)}catch(e){return Promise.reject(e)}return fetch(e,n)}function f(e){var t=e.subdomain;return"https://"+(void 0===t?"api":t)+".line.me/"+e.pathname}var d={token:f({pathname:"oauth2/v2.1/token"}),certs:f({pathname:"oauth2/v2.1/certs"}),"openid-configuration":f({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:f({subdomain:"access",pathname:"liff/v1/authorize"}),profile:f({pathname:"v2/profile"}),message:f({pathname:"message/v3/share"}),messageOTT:f({pathname:"message/v3/multisend?type=ott"}),friendship:f({pathname:"friendship/v1/status"}),shareTargetPicker:f({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:f({pathname:"liff/v2/apps"}),shareTargetPickerResult:f({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:f({pathname:"liff/v2/apps"}),subWindowGetMSIT:f({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:f({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:f({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:f({pathname:"liff/v2/sub/result"}),subWindowGetAppData:f({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(e){return f({pathname:"liff/v2/sub/"+e+"/origin"})},accessTokenVerify:f({pathname:"oauth2/v2.1/verify"}),unauthorizedPermissions:f({subdomain:"liff",pathname:"liff/v2/incrementalAgreement/unauthorizedPermissions"})};function h(e){return d[e]}function p(e){return c(h("accessTokenVerify")+"?access_token="+encodeURIComponent(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}},177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ShareTargetPickerModule:()=>O,module:()=>C});var r=n(655),i=n(153),o=n(530),s=n(743),a=n(948),u=n(907),c=n(870),l=n(830),f=n(742),d=n(416),h=n(840),p=n(751),g={};function v(){return g}function m(e,t){var n=v(),i=(0,r.CR)(t.split("."),1)[0],o=n[t];o&&e.removeEventListener(i,o),n[t]=null}var w=!1,b=!1;function y(e,t,n,i){w||(b=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!1}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),w=!0);var o=(0,r.CR)(t.split("."),1)[0];return new Promise((function(r){var s=function(o){r(o),n&&n(o),i&&i.once&&m(e,t)};!function(e,t){g[e]=t}(t,s),e.addEventListener(o,s,!!b&&i)}))}function I(e,t,n,r){if(void 0===n&&(n={}),"object"!=typeof e||!e.postMessage)throw(0,o.IO)(i.qY,"target must be window object");if("string"!=typeof t)throw(0,o.IO)(i.qY,"keyname must be string");if("object"!=typeof n)throw(0,o.IO)(i.qY,"incorrect body format. It should be Object or Array comprised of Object");if(!r)throw(0,o.IO)(i.qY,"serverEndPointUrl isn't passed. please fill up with proper url");if("*"===r)throw new Error("serverEndPointUrl doesn't allow to set '*'");var s={name:t,body:n};e.postMessage(s,r)}var T=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.liffId=e.referrer.liffId,this.doesWaitForSubwindowResult=!(!e.options||!e.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(e),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return r.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return t=r.sent(),this.finalize(),[2,t];case 3:case 6:return[2];case 4:return[3,6];case 5:if(n=r.sent(),this.finalize(),"AbortError"!==n.name)throw n;return[3,6]}}))}))},e.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var e,t;this.abortController&&this.abortController.abort(),(0,a.isInClient)()||(e=this.timeoutIDForHealthCheck,t=this.popupWindow,m(window,"message.receivedHealthcheck"),e&&clearTimeout(e),t&&!t.closed&&t.close())},e.prototype.buildPayloadToShareTargetPicker=function(e){return{messages:e.messages,isMultiple:e.isMultiple,referrer:e.referrer}},e.prototype.initAllowPostMessageOrigin=function(e){return void 0===e&&(e=(0,h.ZJ)("shareTargetPicker")),(0,o.UZ)(e)},e.prototype.initOtt=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return this.abortController&&(e=this.abortController.signal),t=(0,h.ZJ)("shareTargetPickerOtt")+"/"+this.liffId+"/ott",n=this,[4,(0,h.he)(t,{method:"GET",signal:e}).then((function(e){return e.ott}))];case 1:return n.ott=r.sent(),[2]}}))}))},e.prototype.prepareAnotherWindow=function(){(0,a.isInClient)()||("ios"!==(0,p.getOS)()||(0,o.HM)()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if((0,a.isInClient)()&&this.payloadToShareTargetPicker)e=this.liffId,t=this.ott,n=this.payloadToShareTargetPicker,r={liffId:e,ott:t,data:JSON.stringify(n),closeModals:!1},location.href="line://picker?"+o.qs.stringify(r);else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw(0,o.IO)(i.c1);!function(e,t,n){var r={liffId:t,ott:n};e.location.href=(0,h.ZJ)("shareTargetPicker")+"?"+o.qs.stringify(r)}(this.popupWindow,this.liffId,this.ott)}var e,t,n,r},e.prototype.initListener=function(){var e,t;(0,a.isInClient)()||(e=this.onReceivedHealthcheck.bind(this),t=this.allowPostMessageOrigin,function(e,t,n,r){y(e,"message."+t,function(e,t,n){return function(r){d.kg.debug("messageReceive",r),r.origin===n&&r.data.name===e&&t(r)}}(t,n,r))}(window,"receivedHealthcheck",e,t))},e.prototype.healthCheck=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.internalError=e,[3,4];case 4:return[3,6];case 5:this.finalize(),t.label=6;case 6:return[3,8];case 7:I(this.popupWindow,"healthcheck",void 0,this.allowPostMessageOrigin),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),t.label=8;case 8:return[2]}}))}))},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw(0,o.IO)(i.c1);I(this.popupWindow,"ready",this.payloadToShareTargetPicker,this.allowPostMessageOrigin)},e.prototype.onCanceled=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if((0,a.isInClient)()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},[4,(0,h.he)((0,h.ZJ)("shareTargetPickerResult")+"?"+o.qs.stringify(t),{method:"POST",signal:e,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,"ok"===n.sent().status]}}))}))},e.prototype.getShareResult=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(e=this.abortController.signal),t={liffId:this.liffId,ott:this.ott},d.kg.debug("fetch: getShareResult"),[2,(0,h.he)((0,h.ZJ)("shareTargetPickerResult")+"?"+o.qs.stringify(t),{method:"GET",headers:{Accept:"application/json"},signal:e})]}))}))},e.isPollingTimeOut=function(e,t){return(t-e)/6e4>=10},e.prototype.pollingShareResult=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((n=r.sent())&&n.result)switch(n.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];default:throw new Error(n.resultDescription)}return[4,new Promise((function(e){setTimeout(e,500)}))];case 3:return r.sent(),[3,1];case 4:throw new Error("Timeout: not finished within 10min")}}))}))},e}(),O=function(){function e(){var e=this;this.name="shareTargetPicker",this.shareTargetPicker=function(t,n){return void 0===n&&(n={}),(0,r.mG)(e,void 0,void 0,(function(){var e,l,d,h,p,g,v;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(e=void 0===n.isMultiple||n.isMultiple,this.checkPermission(),!(0,u.isLoggedIn)())throw(0,o.IO)(i.WY,"Need access_token for api call, Please login first");if(!t||!Array.isArray(t)||0===t.length)throw(0,o.IO)(i.qY,"no proper argument");if(t.length>i.OA)throw(0,o.IO)(i.qY,"exceed the limit of num of messages");if(!(l=(0,s.getConfig)().liffId))throw(0,o.IO)(i.Is);window.liff&&(d=window.liff).analytics&&(0,c.sendShareTargetPicker)(d.analytics),r.label=1;case 1:return r.trys.push([1,3,,4]),h=T.getInstance(),p=(0,f.getLineVersion)(),g={waitForSubwindowResult:!0},(0,a.isInClient)()&&p&&(0,o.yC)(p,"10.11.0")<0&&(g.waitForSubwindowResult=!1),[4,h.init({messages:t,isMultiple:e,referrer:{liffId:l,url:location.origin},options:g})];case 2:return[2,r.sent()];case 3:throw(v=r.sent())instanceof o.NW?v:(0,o.IO)(i.v9,v.message);case 4:return[2]}}))}))},this.checkPermission=function(){if((0,l.isSubWindow)())throw(0,o.IO)(i.xe,"The operation is not allowed in the SubWindow");var e=(((0,s.getContext)()||{}).availability||{}).shareTargetPicker||{},t=e.permission,n=e.minVer;if(!t)throw(0,a.isInClient)()?(0,o.IO)(i.xe,"Need LINE App "+n+" at least or consent on shareTargetPicker usage on LINE developer site"):(0,o.IO)(i.xe,"Need consent on shareTargetPicker usage on LINE developer site")}}return e.prototype.install=function(){return this.shareTargetPicker},e}(),C=new O},743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clean:()=>Y,clearAutologinAttempt:()=>Z,get:()=>l,getAId:()=>p,getAccessToken:()=>D,getAppData:()=>b,getAutologinAttempt:()=>H,getByLiffId:()=>c,getClientId:()=>A,getConfig:()=>a,getContext:()=>d,getDecodedIDToken:()=>q,getExpireTime:()=>G,getFeatureToken:()=>L,getIDToken:()=>j,getIsSubsequentLiffApp:()=>m,getIsVideoAutoPlay:()=>g,getLoginTmp:()=>W,getMSIT:()=>O,getMST:()=>S,getMSTChallenge:()=>_,getMSTVerifier:()=>I,getProfilePlus:()=>v,getRawContext:()=>x,remove:()=>U,removeExpireTime:()=>V,removeLoginTmp:()=>B,set:()=>f,setAccessToken:()=>R,setAppData:()=>y,setAutologinAttempt:()=>z,setClientId:()=>P,setConfig:()=>u,setContext:()=>h,setDecodedIDToken:()=>K,setExpireTime:()=>J,setFeatureToken:()=>F,setIDToken:()=>M,setIsSubsequentLiffApp:()=>w,setLoginTmp:()=>N,setMSIT:()=>C,setMST:()=>k,setMSTChallenge:()=>E,setMSTVerifier:()=>T});var r=n(153),i=n(948),o=n(530),s={};function a(){return s}function u(e){s=e}function c(e,t){if(!t)throw(0,o.IO)(r.Is,"liffId is necessary for liff.init()");var n=((0,i.isInClient)()?sessionStorage:localStorage).getItem(r.Ls+":"+t+":"+e);try{return null===n?null:JSON.parse(n)}catch(e){return null}}function l(e){return c(e,a().liffId)}function f(e,t){var n=a().liffId;if(!n)throw(0,o.IO)(r.Is,"liffId is necessary for liff.init()");((0,i.isInClient)()?sessionStorage:localStorage).setItem(r.Ls+":"+n+":"+e,JSON.stringify(t))}function d(){return l(r.Oi.CONTEXT)}function h(e){f(r.Oi.CONTEXT,e)}function p(){return((d()||{}).d||{}).aId}function g(){return((d()||{}).d||{}).autoplay||!1}function v(){return(d()||{}).profilePlus}function m(){return Boolean(l(r.Oi.IS_SUBSEQUENT_LIFF_APP))}function w(e){f(r.Oi.IS_SUBSEQUENT_LIFF_APP,e)}function b(){return l(r.Oi.APP_DATA)}function y(e){f(r.Oi.APP_DATA,e)}function I(){return l(r.Oi.MST_VERIFIER)}function T(e){f(r.Oi.MST_VERIFIER,e)}function O(){return l(r.Oi.MSIT)}function C(e){f(r.Oi.MSIT,e)}function S(){return l(r.Oi.MST)}function k(e){f(r.Oi.MST,e)}function _(){return l(r.Oi.MST_CHALLENGE)}function E(e){f(r.Oi.MST_CHALLENGE,e)}function A(){return l(r.Oi.CLIENT_ID)}function P(e){f(r.Oi.CLIENT_ID,e)}function x(){return l(r.Oi.RAW_CONTEXT)}function L(){return l(r.Oi.FEATURE_TOKEN)}function F(e){f(r.Oi.FEATURE_TOKEN,e)}function j(){return l(r.Oi.ID_TOKEN)}function M(e){f(r.Oi.ID_TOKEN,e)}function D(){return l(r.Oi.ACCESS_TOKEN)}function R(e){f(r.Oi.ACCESS_TOKEN,e)}function U(e){var t=a().liffId;if(!t)throw(0,o.IO)(r.Is,"liffId is necessary for liff.init()");((0,i.isInClient)()?sessionStorage:localStorage).removeItem(r.Ls+":"+t+":"+e)}function W(){return l(r.Oi.LOGIN_TMP)}function N(e){f(r.Oi.LOGIN_TMP,e)}function B(){U(r.Oi.LOGIN_TMP)}function J(e){var t=a();o.pR.set(r.Ls+":"+r.Oi.EXPIRES+":"+t.liffId,e.getTime(),{expires:e.toUTCString(),path:"/",secure:null})}function G(){var e=a();return o.pR.get(r.Ls+":"+r.Oi.EXPIRES+":"+e.liffId)}function V(){var e=a();o.pR.remove(r.Ls+":"+r.Oi.EXPIRES+":"+e.liffId,{path:"/"})}function q(){return l(r.Oi.DECODED_ID_TOKEN)}function K(e){f(r.Oi.DECODED_ID_TOKEN,e)}function Y(){Object.keys(r.Oi).forEach((function(e){U(r.Oi[e])})),V()}function H(){return!!l(r.Oi.AUTOLOGIN_ATTEMPT)}function z(){f(r.Oi.AUTOLOGIN_ATTEMPT,!0)}function Z(){f(r.Oi.AUTOLOGIN_ATTEMPT,!1)}},583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getAppData:()=>G,getMSTByMSIT:()=>J,getMainWindowOrigin:()=>P,setMainWindowOrigin:()=>A,subWindow:()=>V});var r=n(153),i=n(530),o=n(948),s=n(591),a=n(655),u=n(416),c=n(751),l=n(840),f=n(743),d=n(830),h=n(731);function p(e){var t=(0,l.ZJ)("subWindowGetOrigin");return(0,l.he)(t(e))}var g={};function v(e,t){e&&g[e]&&g[e].forEach((function(e){e(t)}))}var m,w,b,y,I=function(){function e(e){this.storage=e}return e.prototype.getItem=function(e){return this.storage.getItem(this.getKeyPrefix()+":"+e)},e.prototype.setItem=function(e,t){this.storage.setItem(this.getKeyPrefix()+":"+e,t)},e.prototype.removeItem=function(e){this.storage.removeItem(this.getKeyPrefix()+":"+e)},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return r.Ls+":"+this.getLiffId()},e.prototype.getLiffId=function(){var e=(0,f.getConfig)().liffId;if(!e)throw(0,i.IO)(r.Is,"liffId is necessary for liff.init()");return e},e}(),T=new I(i.KT);function O(){var e=T.getItem("subWindowStatusUpdated");return null!==e&&JSON.parse(e)}function C(e){T.setItem("subWindowStatusUpdated",String(e))}function S(e){m=e}function k(){return m}function _(){return b}var E=new I(window.sessionStorage);function A(e){E.setItem("mainWindowOrigin",e)}function P(){return E.getItem("mainWindowOrigin")}function x(e,t){return void 0===t&&(t={}),(0,a.mG)(this,void 0,void 0,(function(){var n,o,s,c,l,d,h;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(n=(0,f.getConfig)().liffId,o=P(),!window.opener||!o||!n)throw(0,i.IO)(r.v9);s=!1,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,p(n)];case 2:return c=a.sent(),s=c.subwindowCommonModule,[3,4];case 3:throw l=a.sent(),u.kg.debug(l),(0,i.IO)(r.v9);case 4:return d=JSON.stringify(t),h=s?o:location.origin,window.opener.postMessage({status:e,result:d},h),[2,{status:e,result:d}]}}))}))}function L(e){var t=y;if(e.origin===t){var n=e.data;if(n){var i,o=n.status,s=n.result;try{i=JSON.parse(s||"{}")}catch(e){i={}}switch(o){case r.Pj:window.clearInterval(_());break;case r.I:case r.zi:C(!0),window.clearInterval(_()),window.removeEventListener("message",L),v(o,i);break;default:u.kg.debug("unexpected message")}}}}function F(){window.clearInterval(w),window.clearInterval(_()),window.removeEventListener("message",L)}function j(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,o,s,u,c,f,d,h,p,g;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:t=e.msit,n=e.mstChallenge,o=e.onSuccess,s=e.onError,u=e.reconnectCount,c=void 0===u?0:u,a.label=1;case 1:return a.trys.push([1,3,,6]),[4,(0,l.e2)((0,l.ZJ)("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return f=a.sent(),[3,6];case 3:return a.sent(),[4,M()];case 4:return a.sent(),[4,R(j,{msit:t,mstChallenge:n,onSuccess:o,onError:s,reconnectCount:c+=1})];case 5:return a.sent(),[2];case 6:return f.status>=500?[4,M()]:[3,9];case 7:return a.sent(),[4,R(j,{msit:t,mstChallenge:n,onSuccess:o,onError:s,reconnectCount:c+=1})];case 8:return a.sent(),[3,20];case 9:return f.status>=400&&500>f.status?[4,D(f)]:[3,11];case 10:return(h=a.sent())?(d=h.errorDetail,s((0,i.IO)(r.qY,d))):s((0,i.IO)(r.lz,"Some error happened in the server")),[3,20];case 11:return 200!==f.status?[3,19]:[4,D(f)];case 12:return(h=a.sent())?[3,13]:(s((0,i.IO)(r.lz,"Some error happened in the server")),[3,18]);case 13:switch(p=h.status,g=h.result,p){case r.KC:return[3,14];case r.qI:case r.I:case r.zi:return[3,16]}return[3,17];case 14:return[4,R(j,{msit:t,mstChallenge:n,onSuccess:o,onError:s,reconnectCount:c})];case 15:return a.sent(),[3,18];case 16:return o(p,g),[3,18];case 17:s((0,i.IO)(r.lz,"Some error happened in the server")),a.label=18;case 18:return[3,20];case 19:s((0,i.IO)(r.lz,"Some error happened in the server")),a.label=20;case 20:return[2]}}))}))}function M(){return new Promise((function(e){return setTimeout(e,1e3)}))}function D(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))}function R(e,t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t.reconnectCount>=10?(t.onError((0,i.IO)(r.lz,"Failed to connect")),[3,3]):[3,1];case 1:return[4,e(t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function U(e){var t={};return Object.keys(e).forEach((function(n){"closeButtonColor"===n?"white"===e[n]?t[n]="#ffffff":t[n]="#000000":t[n]=e[n]})),t}var W={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function N(){if(!(0,d.isSubWindow)())throw(0,i.IO)(r.WY,"this api can be only called in child window")}function B(e){if(!e.mst||!e.status)return Promise.reject((0,i.IO)(r.qY,"no proper argument"));var t=JSON.stringify(e);return(0,l.he)((0,l.ZJ)("subWindowPost"),{method:"POST",body:t})}function J(e){var t=e.msit,n=e.mstVerifier;return t&&n?(0,l.he)((0,l.ZJ)("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject((0,i.IO)(r.qY,"no proper argument"))}function G(e){var t=e.mst;return t?(0,l.he)((0,l.ZJ)("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:t})}):Promise.reject((0,i.IO)(r.qY,"no proper argument"))}var V={on:function(e,t){g[e]||(g[e]=[]),g[e].push(t)},off:function(e,t){if(g[e]){var n=g[e].indexOf(t);n>=0&&g[e].splice(n,1)}},open:function(e){if(!(0,s.isApiAvailable)("subwindowOpen"))throw(0,i.IO)(r.xe,"No permission for liff.subWindow.open()");return function(){if((0,d.isSubWindow)())throw(0,i.IO)(r.WY,"this api can be only called in parent window")}(),(0,o.isInClient)()?function(e){var t=e.appData,n=e.native,o=(0,f.getConfig)().liffId,s=(0,f.getMSTChallenge)(),a=(0,i.o3)(e.url);if(!o)return Promise.reject((0,i.IO)(r.WY,"liffId is invalid"));if(!s)return Promise.reject((0,i.IO)(r.WY,"mst_challenge is invalid"));if(!a)return Promise.reject((0,i.IO)(r.qY,"params.url must be liff url"));var u=Object.assign({},W,n);return function(e){var t=e.mainLiffId,n=e.subLiffId,o=e.mstChallenge,s=e.appData,a=e.view;return t&&o?(0,l.he)((0,l.ZJ)("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:t,subLiffId:n,mstChallenge:o,appData:s,view:a})}):Promise.reject((0,i.IO)(r.qY,"no proper argument"))}({mainLiffId:o,subLiffId:a,mstChallenge:s,appData:t,view:U(u)}).then((function(t){var n=t.msit;j({msit:n,mstChallenge:s,onSuccess:function(e,t){v(e,t)},onError:function(e){v(r.KC,e)}}),function(e,t){var n=e.url,i=new URLSearchParams;i.set("msit",t),location.href=r.ZD+"?url="+encodeURIComponent(n)+"&"+i.toString()}(e,n)}))}(e):function(e){var t=(0,i.o3)(e.url);if(!t)return Promise.reject((0,i.IO)(r.qY,"params.url must be liff url"));!function(){F(),C(!1);var e=k();e&&(e.close(),S(null))}();var n,o,s,u,l=e.url,f=e.appData,d=new URL(l);d.searchParams.append(r._b,"true"),d.hostname=(n=d.hostname,s=(o=(0,a.CR)(n.split(".")))[0],u=o.slice(1),(0,a.fl)([s+"-ext"],u).join("."));var h=d.toString();return S("ios"!==(0,c.getOS)()||(0,i.HM)()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),p(t).then((function(e){var t,n=e.origin,o=e.subwindowCommonModule,s=k();if(!s)throw(0,i.IO)(r.c1);o?(function(e){y=e}(n),window.addEventListener("message",L),s.location.href=h,t=function(e,t){var n=k(),i={type:r.Pj};return t&&(i.message=JSON.stringify(t)),window.setInterval((function(){null==n||n.postMessage(i,e)}),r.WU)}(n,f),b=t,function(e){w=e}(window.setInterval((function(){var e=k();e&&e.closed&&(F(),S(null),!1===O()&&(C(!0),v(r.qI,{})))}),r.Fd))):s.close()}))}(e)},cancel:function(e){return void 0===e&&(e={}),N(),(0,o.isInClient)()?function(e){return void 0===e&&(e={}),(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return(t=(0,f.getMST)())?[4,B({mst:t,status:r.I,result:e})]:[2,Promise.reject((0,i.IO)(r.WY,"mst is invalid"))];case 1:return n=o.sent(),C(!0),[2,n]}}))}))}(e):function(e){return void 0===e&&(e={}),x(r.I,e)}(e)},submit:function(e){return void 0===e&&(e={}),N(),(0,o.isInClient)()?function(e){return void 0===e&&(e={}),(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return(t=(0,f.getMST)())?[4,B({mst:t,status:r.zi,result:e})]:[2,Promise.reject((0,i.IO)(r.WY,"mst is invalid"))];case 1:return n=o.sent(),C(!0),[2,n]}}))}))}(e):function(e){return void 0===e&&(e={}),x(r.zi,e)}(e)},close:function(){return N(),(0,o.isInClient)()?function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return!1!==O()?[3,2]:(e=(0,f.getMST)())?[4,B({mst:e,status:r.qI,result:{}})]:[2,Promise.reject((0,i.IO)(r.WY,"mst is invalid"))];case 1:t.sent(),t.label=2;case 2:return(0,h.closeWindow)(),[2]}}))}))}():((0,h.closeWindow)(),Promise.resolve())},getAppData:function(){return N(),function(){var e,t=(0,f.getAppData)();try{e=t?JSON.parse(t):{}}catch(t){e={}}return Promise.resolve(e)}()}}},420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ModuleContextImpl:()=>o,ModuleDriverImpl:()=>s,UseModule:()=>a});var r=n(655),i=n(416),o=function(e,t){var n=this;this._driver=e,this.liff=t,this.addHooks=function(e){n._driver.addHooks(e)}},s=function(){function e(){this.modules=new Set,this.hooksSet=new Set}return e.prototype.addHooks=function(e){this.hooksSet.add(e)},e.prototype.addModule=function(e){this.modules.add(e)},e.prototype.hasModule=function(e){return this.modules.has(e)},e.prototype.runHook=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return(0,r.Jh)(this,(function(f){switch(f.label){case 0:n=[];try{for(i=(0,r.XA)(this.hooksSet),o=i.next();!o.done;o=i.next())s=o.value,"function"==typeof(a=s[e])&&(u=a.apply(void 0,(0,r.fl)(t)),n.push(u))}catch(e){c={error:e}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(c)throw c.error}}return[4,Promise.all(n)];case 1:return f.sent(),[2]}}))}))},e.prototype.runSyncHook=function(e){for(var t,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];try{for(var s=(0,r.XA)(this.hooksSet),a=s.next();!a.done;a=s.next()){var u=a.value,c=u[e];"function"==typeof c&&c.apply(void 0,(0,r.fl)(i))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e}(),a=function(){function e(e,t){this.driver=e,this.option=t}return e.prototype.install=function(e){return this.factory(this.driver,e)},Object.defineProperty(e.prototype,"name",{get:function(){return"use"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!1,configurable:!0}),e.prototype.factory=function(e,t){var n=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(r,o){if(e.hasModule(r))return this;if(!r||"function"!=typeof r.install||"string"!=typeof r.name)return i.kg.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var s=""+n+r.name,a=r.install.call(r,t,o);return this[""+s]?(i.kg.warn("There is a duplicate plugin name. `"+r.name+"` plugin namespace will be override."),this[""+s]=a):void 0!==a&&(this[""+s]=a),e.addModule(r),this}},e}()},530:(e,t,n)=>{"use strict";n.d(t,{uT:()=>p,NW:()=>g,Sr:()=>S,ew:()=>a,yC:()=>u,mP:()=>c,PM:()=>d,Gr:()=>f,pR:()=>h,IO:()=>v,My:()=>m,o3:()=>k,UZ:()=>E,Wi:()=>w,KT:()=>b,HM:()=>A,z7:()=>x,cn:()=>P,Jo:()=>L,Kg:()=>F,qs:()=>y,DM:()=>T,jK:()=>O,Jd:()=>C});var r=n(416),i=n(655),o=n(153);function s(e){return window.atob(e.replace(/-/g,"+").replace(/_/g,"/"))}var a={decode:s,encode:function(e){return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decodeUnicode:function(e){var t=s(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("");return decodeURIComponent(t)}};function u(e,t){if(e===t)return 0;for(var n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length),o=0;o<i;o++){n[o]||(n[o]="0"),r[o]||(r[o]="0");var s=parseInt(n[o])-parseInt(r[o]);if(0!==s)return s>0?1:-1}return 0}function c(e){var t=e.replace("#","").match(/.{2}/g)||[];if(4!==t.length)return r.kg.warn("convertArgbToRgba: Received invalid ARGB color"),"";var n=function(e){var t=l(e);return Math.round(t/255*100)/100}(t[0]);return"rgba("+l(t[1])+", "+l(t[2])+", "+l(t[3])+", "+n+")"}function l(e){return parseInt(e,16)}function f(e){var t=e.replace("#","").match(/.{2}/g)||[];return 3!==t.length?(r.kg.warn("convertArgbToRgba: Received invalid hex color"),""):l(t[0])+", "+l(t[1])+", "+l(t[2])}function d(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}var h={get:function(e){var t=new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$");return document.cookie.replace(t,"$1")},set:function(e,t,n){var i=e+"="+t;if(n)for(var o in n)i+="; "+o+(n[o]?"="+n[o]:"");r.kg.debug("set cookie",i),document.cookie=i},remove:function(e,t){var n=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT";if(t)for(var r in t)n+="; "+r+"="+t[r];document.cookie=n}},p=new Set(["400","401","403","404","429","500"]),g=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r}return(0,i.ZT)(t,e),t}(Error);function v(e,t){return new g(e,t||"")}function m(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function w(e){var t="";return e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach((function(e){t+=String.fromCharCode(parseInt(e))})),window.btoa(t)}var b=new(function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(e){var t=this.map[e];return void 0===t?null:t},e.prototype.setItem=function(e,t){this.map[e]=t},e.prototype.removeItem=function(e){delete this.map[e]},e.prototype.key=function(e){var t=Object.keys(this.map)[e];return void 0===t?null:t},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),e}()),y={parse:function(e){return e.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter((function(e){return e.length>0})).reduce((function(e,t){var n=(0,i.CR)(t.split("=").map(decodeURIComponent),2),r=n[0],o=n[1],s=e[r];return Array.isArray(s)?s.push(o):Object.prototype.hasOwnProperty.call(e,r)?e[r]=[s,o]:e[r]=o,e}),{})},stringify:function(e){return Object.keys(e).map((function(t){var n=e[t],r=function(e){return void 0!==e?encodeURIComponent(t)+"="+encodeURIComponent(e):encodeURIComponent(t)};return Array.isArray(n)?n.map((function(e){return r(e)})).join("&"):r(n)})).join("&")}},I="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function T(e){for(var t="",n=0;n<e;n++)t+=I[Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296*I.length)];return t}function O(e){var t=new URL(e),n=t.hash.slice(1).split("&").filter((function(e){return!o.IN.some((function(t){return e.includes(t+"=")}))})).join("&");return t.hash=n,t.toString()}var C=function(e){var t=O(e);window.history.replaceState(history.state,"",t)};function S(e,t){if(!e)throw new Error("addParamsToUrl: invalid URL");var n=new URL(e);return Object.entries(t).forEach((function(e){var t=(0,i.CR)(e,2),r=t[0],o=t[1];n.searchParams.set(r,o)})),n.toString()}function k(e){var t=e.match(_());return t&&t[1]}function _(){return new RegExp("^"+o.mx+"(\\d+-\\w+)")}function E(e){var t=e.match(/^(https?:\/\/.*?)\//);return t&&t[1]||""}function A(e){return void 0===e&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}function P(e){return void 0===e&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(e)}function x(e){return void 0===e&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(e)}function L(e){return void 0===e&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e)}function F(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=function(t){Object.keys(t).filter((function(e){return null!==t[e]&&void 0!==t[e]})).forEach((function(n){e[n]=t[n]}))};try{for(var a=(0,i.XA)(r),u=a.next();!u.done;u=a.next()){var c=u.value;s(c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return e}},601:(e,t,n)=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://static.line-scdn.net/liff/edge/2/",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liff=void 0,n(1),n(2);var r=n(3).default;t.liff=r,t.default=r},function(e,t){e.exports=n(147)},function(e,t){e.exports=n(412)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(5),o=n(6),s=n(7),a=n(8),u=n(9),c=n(10),l=n(11),f=n(12),d=n(13),h=n(14),p=n(15),g=n(16),v=n(17),m=n(18),w=n(19),b=n(20),y=n(21),I=n(22),T=n(23),O=n(24),C=n(25),S=n(26),k=n(27),_=n(28),E=n(29),A=Object.defineProperties({},{getOS:{value:u.getOS,enumerable:!0,writable:!0},getVersion:{value:c.getVersion,enumerable:!0,writable:!0},getLanguage:{value:l.getLanguage,enumerable:!0,writable:!0},isInClient:{value:s.isInClient,enumerable:!0,writable:!0},isLoggedIn:{value:d.isLoggedIn,enumerable:!0,writable:!0},logout:{value:h.logout,enumerable:!0,writable:!0},getAccessToken:{value:o.getAccessToken,enumerable:!0,writable:!0},getIDToken:{value:o.getIDToken,enumerable:!0,writable:!0},getDecodedIDToken:{value:o.getDecodedIDToken,enumerable:!0,writable:!0},getContext:{value:o.getContext,enumerable:!0,writable:!0},openWindow:{value:m.openWindow,enumerable:!0,writable:!0},closeWindow:{value:w.closeWindow,enumerable:!0,writable:!0},getFriendship:{value:_.attachChecker(y.getFriendship,"profile"),enumerable:!0,writable:!0},getAId:{value:o.getAId,enumerable:!0,writable:!0},getProfilePlus:{value:o.getProfilePlus,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:o.getIsVideoAutoPlay,enumerable:!0,writable:!0},getLineVersion:{value:g.getLineVersion,enumerable:!0,writable:!0},isApiAvailable:{value:v.isApiAvailable,enumerable:!0,writable:!0},getProfile:{value:_.attachChecker(f.getProfile,"profile"),enumerable:!0,writable:!0},sendMessages:{value:_.attachChecker(b.sendMessages,"chat_message.write"),enumerable:!0,writable:!0},subWindow:{value:I.subWindow,enumerable:!0,writable:!0},ready:{value:a.ready,enumerable:!0,writable:!0},id:{get:function(){return o.getConfig().liffId||null},enumerable:!0},_dispatchEvent:{value:p.dispatch,enumerable:!0,writable:!0},_call:{value:p.call,enumerable:!0,writable:!0},_addListener:{value:p.addListener,enumerable:!0,writable:!0},_removeListener:{value:p.removeListener,enumerable:!0,writable:!0},_postMessage:{value:p.postMessage,enumerable:!0,writable:!0}}),P=new T.ModuleDriverImpl,x=new T.ModuleContextImpl(P,A),L=new T.UseModule(P,{namespacePrefix:""}).install(x);[new i.LoginModule(P),new r.InitModule(P),new O.AnalyticsModule,k.module,C.module,S.module,_.module,E.module].forEach((function(e){L.call(A,e)})),t.default=A},function(e,t){e.exports=n(160)},function(e,t){e.exports=n(669)},function(e,t){e.exports=n(743)},function(e,t){e.exports=n(948)},function(e,t){e.exports=n(350)},function(e,t){e.exports=n(751)},function(e,t){e.exports=n(74)},function(e,t){e.exports=n(131)},function(e,t){e.exports=n(523)},function(e,t){e.exports=n(907)},function(e,t){e.exports=n(737)},function(e,t){e.exports=n(7)},function(e,t){e.exports=n(742)},function(e,t){e.exports=n(591)},function(e,t){e.exports=n(242)},function(e,t){e.exports=n(731)},function(e,t){e.exports=n(489)},function(e,t){e.exports=n(900)},function(e,t){e.exports=n(583)},function(e,t){e.exports=n(420)},function(e,t){e.exports=n(870)},function(e,t){e.exports=n(715)},function(e,t){e.exports=n(830)},function(e,t){e.exports=n(72)},function(e,t){e.exports=n(851)},function(e,t){e.exports=n(177)}]).default},412:(e,t,n)=>{"use strict";n.r(t);const r=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))};const i=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var s=0;s<r.length;s++)o(s,r[s])}))};var o=setTimeout,s="undefined"!=typeof setImmediate?setImmediate:null;function a(e){return Boolean(e&&void 0!==e.length)}function u(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void d(t.promise,e)}f(t.promise,r)}else(1===e._state?f:d)(t.promise,e._value)}))):e._deferreds.push(t)}function f(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void h(e);if("function"==typeof n)return void g((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,h(e)}catch(t){d(e,t)}var r,i}function d(e,t){e._state=2,e._value=t,h(e)}function h(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,f(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(u);return l(this,new p(e,t,n)),n},c.prototype.finally=r,c.all=function(e){return new c((function(t,n){if(!a(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),n)}r[e]=s,0==--i&&t(r)}catch(e){n(e)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},c.allSettled=i,c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!a(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"==typeof s&&function(e){s(e)}||function(e){o(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const v=c;var m=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();"function"!=typeof m.Promise?m.Promise=v:(m.Promise.prototype.finally||(m.Promise.prototype.finally=r),m.Promise.allSettled||(m.Promise.allSettled=i))},709:function(e,t){var n,r,i;r=[],void 0===(i="function"==typeof(n=function(){var e=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r,i,o=Math.pow,s=o(2,32),a="length",u="",c=[],l=8*t[a],f=e.h=e.h||[],d=e.k=e.k||[],h=d[a],p={},g=2;h<64;g++)if(!p[g]){for(r=0;r<313;r+=g)p[r]=g;f[h]=o(g,.5)*s|0,d[h++]=o(g,1/3)*s|0}for(t+="";t[a]%64-56;)t+="\0";for(r=0;r<t[a];r++){if((i=t.charCodeAt(r))>>8)return;c[r>>2]|=i<<(3-r)%4*8}for(c[c[a]]=l/s|0,c[c[a]]=l,i=0;i<c[a];){var v=c.slice(i,i+=16),m=f;for(f=f.slice(0,8),r=0;r<64;r++){var w=v[r-15],b=v[r-2],y=f[0],I=f[4],T=f[7]+(n(I,6)^n(I,11)^n(I,25))+(I&f[5]^~I&f[6])+d[r]+(v[r]=r<16?v[r]:v[r-16]+(n(w,7)^n(w,18)^w>>>3)+v[r-7]+(n(b,17)^n(b,19)^b>>>10)|0);(f=[T+((n(y,2)^n(y,13)^n(y,22))+(y&f[1]^y&f[2]^f[1]&f[2]))|0].concat(f))[4]=f[4]+T|0}for(r=0;r<8;r++)f[r]=f[r]+m[r]|0}for(r=0;r<8;r++)for(i=3;i+1;i--){var O=f[r]>>8*i&255;u+=(O<16?0:"")+O.toString(16)}return u};return e.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',e})?n.apply(t,r):n)||(e.exports=i)},655:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,fl:()=>l});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}Object.create},147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>p,Request:()=>I,Response:()=>O,DOMException:()=>S,fetch:()=>k});var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,u="ArrayBuffer"in r;if(u)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():u&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var e,t,n,r=g(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=v(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=f(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(e,t){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(t=t||{}).body;if(e instanceof I){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function T(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})},b.call(I.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];O.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})};var S=r.DOMException;try{new S}catch(e){(S=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function k(e,t){return new Promise((function(n,i){var o=new I(e,t);if(o.signal&&o.signal.aborted)return i(new S("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;setTimeout((function(){n(new O(i,r))}),0)},a.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){i(new S("Aborted","AbortError"))}),0)},a.open(o.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":u&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof p?o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,d(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}k.polyfill=!0,r.fetch||(r.fetch=k,r.Headers=p,r.Request=I,r.Response=O)}}]);